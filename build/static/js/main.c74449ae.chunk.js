(this.webpackJsonpaustnotebook=this.webpackJsonpaustnotebook||[]).push([[0],{182:function(e,t,a){e.exports=a.p+"static/media/1.000541af.jpg"},183:function(e,t,a){e.exports=a.p+"static/media/2.606e74fd.jpg"},184:function(e,t,a){e.exports=a.p+"static/media/3.d160b6c8.jpg"},185:function(e,t,a){e.exports=a.p+"static/media/4.e6c9b204.jpg"},186:function(e,t,a){e.exports=a.p+"static/media/5.217aad15.jpg"},187:function(e,t,a){e.exports=a.p+"static/media/6.4c7d5cec.jpg"},188:function(e,t,a){e.exports=a.p+"static/media/7.dc0b120f.jpg"},189:function(e,t,a){e.exports=a.p+"static/media/8.793c87a2.jpg"},190:function(e,t,a){e.exports=a.p+"static/media/body.8a83929f.jpg"},191:function(e,t,a){e.exports=a.p+"static/media/book-2.1e626ed4.jpg"},280:function(e,t,a){e.exports=a(479)},285:function(e,t,a){},344:function(e,t,a){},349:function(e,t){},351:function(e,t){},365:function(e,t){},367:function(e,t){},395:function(e,t){},397:function(e,t){},398:function(e,t){},404:function(e,t){},406:function(e,t){},424:function(e,t){},427:function(e,t){},443:function(e,t){},446:function(e,t){},464:function(e,t,a){},465:function(e,t,a){},466:function(e,t,a){},467:function(e,t,a){},468:function(e,t,a){},469:function(e,t,a){},470:function(e,t,a){},471:function(e,t,a){},472:function(e,t,a){},473:function(e,t,a){},474:function(e,t,a){},478:function(e,t,a){},479:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),o=a.n(c),s=a(15),l=(a(285),a(3)),i=a.n(l),m=a(7),u=a(144),d=a(27),p=a(23),h=a(9),f=a(10),b=a(12),v=a(11),E=a(53),g=a(522),y=a(480),N=a(523),w=a(524),x=a(33),k=a(518),C=a(261),S=a.n(C),j=function(e){var t=e.handleClick,a=Object(x.a)(e,["handleClick"]);return r.a.createElement(k.a,Object.assign({"aria-label":"delete",size:"small",onClick:t},a),r.a.createElement(S.a,{fontSize:"small"}))},O=function(e){var t=e.items,a=e.selectedItem,n=e.linkTo,c=e.handleSelect,o=e.deleteButton,l=e.onDelete,i=e.secondTextProperty,m=void 0===i?"":i,u=e.textProperty,d=void 0===u?"name":u,p=e.valueProperty,h=void 0===p?"_id":p;return r.a.createElement(g.a,{component:"ul"},t.map((function(e){return r.a.createElement(r.a.Fragment,{key:e[h]},n&&r.a.createElement("div",{className:"row align-items-center"},r.a.createElement(s.b,{to:n(e),className:"text-decoration-none col-10"},r.a.createElement(y.a,{button:!0,onClick:function(){return c(e)},selected:a===e},r.a.createElement(N.a,{primary:e[d],className:"text-white text-center"}),m&&r.a.createElement(N.a,{primary:e[m],className:"text-center text-dark"})),r.a.createElement(w.a,null)),o&&r.a.createElement("div",{className:"col-2"},r.a.createElement(j,{handleClick:function(){return l(e)},className:"deleteButton"}))),!n&&r.a.createElement(r.a.Fragment,{className:"row align-items-center"},r.a.createElement("div",{className:"col-10"},r.a.createElement(y.a,{button:!0,onClick:function(){return c(e)},selected:a===e,className:"text-center"},r.a.createElement(N.a,{primary:e[d],className:"text-white text-center"}),m&&r.a.createElement(N.a,{primary:e[m],className:"text-center text-dark"})),r.a.createElement(w.a,null)),o&&r.a.createElement("div",{className:"col-2"},r.a.createElement(j,{handleClick:function(){return l(e)},className:"deleteButton"}))))})))},I=function(e){var t=e.departments,a=Object(n.useState)({}),c=Object(u.a)(a,2),o=c[0],s=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{items:t,selectedItem:o,linkTo:function(e){return"/aust-note-book/".concat(e._id,"/batches")},handleSelect:function(e){return s(e)}}))},_=a(20),A=a.n(_),T=a(182),P=a.n(T),D=a(183),q=a.n(D),F=a(184),B=a.n(F),V=a(185),R=a.n(V),L=a(186),U=a.n(L),M=a(187),z=a.n(M),Q=a(188),H=a.n(Q),W=a(189),G=a.n(W),K=a(190),$=a.n(K),J=a(191),Y=a.n(J),X=function(){var e=[{image:P.a,alt:"image1"},{image:q.a,alt:"image2"},{image:B.a,alt:"image3"},{image:R.a,alt:"image4"},{image:z.a,alt:"image6"},{image:H.a,alt:"image7"},{image:G.a,alt:"image8"},{image:$.a,alt:"image9"},{image:Y.a,alt:"image10"}];return r.a.createElement("div",{className:"row h-100 w-100 justify-content-center align-items-center p-0 m-0"},r.a.createElement("div",{id:"carouselExampleIndicators",className:"carousel slide col-8","data-ride":"carousel"},r.a.createElement("ol",{className:"carousel-indicators"},r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"0",className:"active"}),A.a.range(1,e.length+1).map((function(e){return r.a.createElement("li",{"data-target":"#carouselExampleIndicators",key:e,"data-slide-to":e})}))),r.a.createElement("div",{className:"carousel-inner"},r.a.createElement("div",{className:"carousel-item active"},r.a.createElement("img",{src:U.a,className:"d-block w-100",alt:"image5"})),e.map((function(e){return r.a.createElement("div",{className:"carousel-item",key:e.image},r.a.createElement("img",{src:e.image,className:"d-block w-100",alt:e.alt}))})))))},Z=a(44),ee=a.n(Z),te=a(525),ae=a(526),ne=a(538),re=a(527),ce=a(150),oe=a(262),se=a.n(oe),le=function(e){var t=e.items,a=e.subtitle1,n=e.subtitble2,c=e.linkTo,o=e.customStyle,l=e.textProperty,i=void 0===l?"name":l;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row w-100 h-100 align-content-center justify-content-center m-0 p-3"},t.map((function(e){return r.a.createElement(ee.a,{className:"".concat(o," my-3"),key:e._id||e.name},r.a.createElement(s.b,{to:c(e),className:"text-decoration-none"},r.a.createElement(te.a,{className:"w-100 h-100"},r.a.createElement(ae.a,{className:"w-100 h-100 myCard"},r.a.createElement(ne.a,{className:"bg-primary ml-2 mt-1"},r.a.createElement(se.a,null)),r.a.createElement(re.a,null,r.a.createElement(ce.a,{gutterBottom:!0,variant:"h6",component:"h2"},e[i]),r.a.createElement(ce.a,{variant:"subtitle1",color:"textSecondary"},A.a.get(e,a)),r.a.createElement(ce.a,{variant:"body2",color:"textSecondary",component:"p"},n))))))}))))},ie=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={batches:[]},e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.batches.filter((function(t){return A.a.get(t,"department._id")===e.props.match.params.departmentId}));this.setState({batches:t})}},{key:"componentDidUpdate",value:function(e){var t=this;if(e!==this.props){var a=this.props.batches.filter((function(e){return e.department._id===t.props.match.params.departmentId}));this.setState({batches:a})}}},{key:"render",value:function(){var e=this.state.batches;return r.a.createElement(le,{items:e,linkTo:function(e){return"/aust-note-book/".concat(e._id,"/features")},subtitle1:"department.name",subtitble2:"Click for Notes, Questions and many more",customStyle:"col-xl-3 col-lg-3 col-md-5 col-sm-5"})}}]),a}(n.Component),me=a(51),ue=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={data:[],batch:{}},e.handleLink=function(t){var a=e.state.batch;return 1===t.id?"/aust-note-book/".concat(a._id,"/courses/notes"):2===t.id?"/aust-note-book/".concat(a._id,"/courses/questions"):3===t.id?"/aust-note-book/".concat(a._id,"/teacher_infos"):4===t.id?"/aust-note-book/".concat(a._id,"/cr_infos"):void 0},e.getItems=function(){var t=e.state,a=t.data,n=t.batch;return a=a.map((function(e){return Object(me.a)(Object(me.a)({},e),{},{batch:n})}))},e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.batches,a=e.match,n=t.find((function(e){return e._id===a.params.batchId}));this.setState({data:[{name:"Class Notes",id:1},{name:"Question Bank",id:2},{name:"Teacher's Information",id:3},{name:"Cr's Information",id:4}],batch:n})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(le,{items:this.getItems(),subtitle1:"batch.name",subtitble2:"",customStyle:"col-lg-5 col-xl-5 col-md-5 col-sm-6",linkTo:this.handleLink}))}}]),a}(n.Component),de=a(78),pe=a.n(de);pe.a.defaults.baseURL="https://austnotebook-api.herokuapp.com/api",pe.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||(console.log(e),console.log("Unexpected error occured.")),Promise.reject(e)}));var he={get:pe.a.get,post:pe.a.post,put:pe.a.put,delete:pe.a.delete,setJwt:function(e){pe.a.defaults.headers.common["x-auth-token"]=e}},fe=function(e,t,a){return he.post("/courses",{courseTitle:e,courseNo:t,batchId:a})};function be(e){return he.delete("/courses"+"/".concat(e))}a(344);var ve=a(528),Ee=function(e){var t=e.children,a=Object(x.a)(e,["children"]);return r.a.createElement(ve.a,Object.assign({className:"m-2",variant:"contained"},a),t)},ge=a(263),ye=a.n(ge),Ne=(a(345),function(e,t){return ye.a.fire({title:"".concat(e),icon:"".concat(t),showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"})}),we=a(264),xe=a.n(we);function ke(e,t){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(m.a)(i.a.mark((function e(t,a){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he.post("/auth/login",{email:t,password:a});case 2:n=e.sent,r=n.data,localStorage.setItem("token",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(){return je.apply(this,arguments)}function je(){return(je=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he.get("/auth/logout");case 2:localStorage.removeItem("token");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(){try{var e=localStorage.getItem("token");return xe.a.decode(e)}catch(t){return null}}he.setJwt(localStorage.getItem("token"));var Ie=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={filteredCourses:[],selectedCourse:{},path:""},e.handleLinkTo=function(t){var a=e.state.path,n=e.props.match.params.batchId;return"/aust-note-book/".concat(n,"/").concat(t._id,"/").concat(a)},e.handleDelete=function(){var t=Object(m.a)(i.a.mark((function t(a){var n,r,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.filteredCourses,r=n.filter((function(e){return e._id!==a._id})),t.next=4,Ne("Are you sure?","warning");case 4:if(c=t.sent,!c.value){t.next=16;break}return e.setState({filteredCourses:r}),t.prev=8,t.next=11,be(a._id);case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(8),t.t0.response&&404===t.t0.response.status&&(p.b.error("This course has already been deleted."),e.setState({filteredCourses:n}));case 16:case"end":return t.stop()}}),t,null,[[8,13]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a,n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match,e.next=3,he.get("/courses");case 3:a=e.sent,n=a.data.data,r=n.filter((function(e){return A.a.get(e,"batch._id")===t.params.batchId})),c=t.params.path,this.setState({filteredCourses:r,path:c});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.match.params.batchId;return r.a.createElement("div",{className:"row h-100 w-100 justify-content-center align-content-center"},(Oe().batch===t||Oe().isAdmin)&&r.a.createElement("div",{className:"col-10 row justify-content-start"},r.a.createElement(Ee,{color:"primary"},r.a.createElement(s.b,{to:"/aust-note-book/".concat(t,"/add-course"),className:"text-decoration-none text-white"},"Add Course"))),r.a.createElement(ee.a,{className:"col-10 courseContaier"},r.a.createElement(O,{items:this.state.filteredCourses,textProperty:"courseTitle",secondTextProperty:"courseNo",selectedItem:this.state.selectedCourse,handleSelect:function(t){return e.setState({selectedCourse:t})},linkTo:this.handleLinkTo,deleteButton:"co-admin"===Oe().role&&Oe().batch===t||Oe().isAdmin,onDelete:this.handleDelete})))}}]),a}(n.Component),_e=a(8),Ae=a(56),Te=function(e){var t=e.initialValues,a=e.onSubmit,n=e.validationSchema,c=e.children,o=Object(x.a)(e,["initialValues","onSubmit","validationSchema","children"]);return r.a.createElement(Ae.a,Object.assign({initialValues:t,onSubmit:a,validationSchema:n},o),(function(){return r.a.createElement(r.a.Fragment,null,c)}))},Pe=function(e){var t=e.error;return e.visible&&t?r.a.createElement("div",{severity:"error",className:"text-danger"},r.a.createElement("p",null,t)):null},De=a(482),qe=a(529),Fe=function(e){var t,a,n=e.name,c=Object(x.a)(e,["name"]),o=Object(Ae.b)(),s=o.handleChange,l=o.errors,i=o.setFieldTouched,m=o.touched,u=o.values;return r.a.createElement(De.a,{fullWidth:!0},r.a.createElement(qe.a,Object.assign({onChange:s(n),onBlur:function(){return i(n)},value:u[n],error:(t=l[n],a=m[n],!(!a||!t)),helperText:l[n]},c)))},Be=function(e){var t=e.label,a=Object(x.a)(e,["label"]),n=Object(Ae.b)(),c=n.isValid,o=n.handleSubmit;return r.a.createElement(ve.a,Object.assign({className:"m-2",variant:"contained",type:"submit",disabled:!c,onClick:o},a),t)},Ve=function(e){var t=e.name,a=Object(x.a)(e,["name"]),n=Object(Ae.b)(),c=n.setFieldValue,o=n.errors,s=n.setFieldTouched,l=n.touched;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",Object.assign({name:t,onChange:function(e){c("file",e.target.files[0])},onBlur:function(){return s(t)},accept:"image/*",type:"file"},a)),r.a.createElement(Pe,{error:o[t],visible:l[t]}))},Re=a(269),Le=a.n(Re),Ue=function(e){e.label;var t=e.htmlFor,a=Object(x.a)(e,["label","htmlFor"]);return r.a.createElement("label",{htmlFor:t},r.a.createElement(k.a,Object.assign({color:"primary","aria-label":"upload picture",component:"span"},a),r.a.createElement(Le.a,null)))},Me=(a(464),function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).validateSchema=_e.b().shape({courseTitle:_e.d().min(3).required().label("First Name"),courseNo:_e.d().min(3).required().label("Last Name")}),e.handleSubmit=function(){var t=Object(m.a)(i.a.mark((function t(a,n){var r,c,o,s,l,m;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.courseTitle,c=a.courseNo,o=n.setErrors,t.prev=2,t.next=5,Ne("Are you confirm?","warning");case 5:if(s=t.sent,!s.value){t.next=12;break}return l=e.props.match.params.batchId,t.next=11,fe(r,c,l);case 11:e.props.history.goBack();case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(2),t.t0.response&&400===t.t0.response.status&&(m=t.t0.response.data,o({courseTitle:m}));case 17:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e,a){return t.apply(this,arguments)}}(),e}return Object(f.a)(a,[{key:"render",value:function(){return Oe().batch===this.props.match.params.batchId||Oe().isAdmin?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row h-100 w-100 justify-content-center align-items-center p-0 m-0"},r.a.createElement("div",{className:"col-8 row  p-0 m-0 justify-content-center align-items-center"},r.a.createElement("div",{className:"courseContainer"},r.a.createElement("div",{className:"courseHeader"},r.a.createElement("h3",{className:"m-0 p-0"},"Add Course")),r.a.createElement("div",{className:"p-5"},r.a.createElement(Te,{initialValues:{courseTitle:"",courseNo:""},onSubmit:this.handleSubmit,validationSchema:this.validateSchema},r.a.createElement("form",{noValidate:!0,autoComplete:"off",className:"mt-1"},r.a.createElement(Fe,{name:"courseTitle",label:"Course Title",color:"primary"}),r.a.createElement(Fe,{name:"courseNo",label:"Course No",color:"primary"}),r.a.createElement(Be,{color:"primary",className:"mt-4 w-100",label:"Add Course"})))))))):r.a.createElement(d.a,{to:"/"})}}]),a}(n.Component)),ze=a(145);function Qe(){return he.get("/notes")}function He(e,t,a,n,r){return e?he.put("/notes"+"/".concat(e),{name:t,semester:a,url:n}):he.post("/notes",{name:t,semester:a,url:n,courseId:r})}function We(e){return he.delete("/notes"+"/".concat(e))}var Ge=a(537),Ke=function(e){var t=e.itemCounts,a=e.pageSize,n=e.pageOnChange,c=Math.ceil(t/a);return 1===c?null:r.a.createElement(Ge.a,{count:c,onChange:function(e,t){return n(t)},color:"primary"})},$e=function(e,t,a){var n=(a-1)*t;return A()(e).slice(n).take(t).value()},Je=a(530),Ye=a(531),Xe=a(532),Ze=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).raiseSort=function(t){var a=Object(me.a)({},e.props.sortColumn);a.path===t?a.order="asc"===a.order?"desc":"asc":(a.path=t,a.order="asc"),e.props.onSort(a)},e.renderSortColumn=function(t){return t.path!==e.props.sortColumn.path?null:"asc"===e.props.sortColumn.order?r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-sort-amount-asc","aria-hidden":"true"})):r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-sort-amount-desc","aria-hidden":"true"}))},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(Je.a,{className:"bg-primary"},r.a.createElement(Ye.a,{style:{cursor:"pointer"}},this.props.columns.map((function(t){return r.a.createElement(Xe.a,{className:"text-white",onClick:function(){return e.raiseSort(t.path)},key:t.path||t.key},t.label," ",t.path&&e.renderSortColumn(t))}))))}}]),a}(n.Component),et=a(533),tt=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).renderCell=function(e,t){return t.content?t.content(e):A.a.get(e,t.path)},e.createKey=function(e,t){return e._id+(t.path||t.key)},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.columns;return r.a.createElement(et.a,null,a.map((function(t){return r.a.createElement(Ye.a,{key:t._id},n.map((function(a){return r.a.createElement(Xe.a,{component:"th",scope:"note",key:e.createKey(t,a)},e.renderCell(t,a))})))})))}}]),a}(n.Component),at=a(534),nt=a(481),rt=a(535),ct=function(e){var t=e.sortColumn,a=e.columns,n=e.onSort,c=e.data;return r.a.createElement(at.a,{component:nt.a,className:"mt-5"},r.a.createElement(rt.a,{"aria-label":"simple table"},r.a.createElement(Ze,{sortColumn:t,columns:a,onSort:n}),r.a.createElement(tt,{data:c,columns:a})))},ot=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).state={},e.columns=[{label:"Name",path:"name",content:function(t){return t.user._id===Oe()._id||Oe().isAdmin?r.a.createElement(s.b,{to:"/aust-note-book/".concat(e.props.batchId,"/").concat(e.props.courseId,"/note/").concat(t._id),className:"font-weight-bold"},t.name):r.a.createElement("span",{className:""},t.name)}},{label:"Semester",path:"semester"},{label:"Added By",path:"user.varsityId"},{label:"Date Upload",path:"datePublished"},{label:"File",key:"file",content:function(e){return r.a.createElement("a",{href:"".concat(e.url),target:"_blank",rel:"noopener noreferrer"},"Download")}}],e.deleteColumn={key:"delete",content:function(t){return(t.user._id===Oe()._id||Oe().isAdmin)&&r.a.createElement(j,{handleClick:function(){return e.props.onDelete(t)},className:"deleteButton"})}},e.columns.push(e.deleteColumn),e}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props,t=e.notes,a=e.onSort,n=e.sortColumn;return r.a.createElement(ee.a,{className:"container m-2"},r.a.createElement(ct,{onSort:a,data:t,sortColumn:n,columns:this.columns}))}}]),a}(n.Component),st=function(e,t){return he.get("/courses"+"/".concat(e,"/comments?path=").concat(t))},lt=function(e,t,a){return he.post("/courses"+"/".concat(e,"/comments"),{comment:t,path:a})},it=function(e,t){return he.delete("/courses"+"/".concat(e,"/comments/").concat(t))},mt=(a(465),function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={allNotes:[],filteredNotes:[],comments:[],pageSize:5,currentPage:1,sortColumn:{},loading:Boolean},e.populateNotes=Object(m.a)(i.a.mark((function t(){var a,n,r,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.match.params.courseId,t.next=3,Qe();case 3:n=t.sent,r=(r=n.data.data).map((function(e){return Object(me.a)(Object(me.a)({},e),{},{datePublished:new Date(e.datePublished).toLocaleString()})})),c=r.filter((function(e){return e.course._id===a})),e.setState({allNotes:r,filteredNotes:c});case 8:case"end":return t.stop()}}),t)}))),e.populateComments=Object(m.a)(i.a.mark((function t(){var a,n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.match.params.courseId,t.next=3,st(a,"notes");case 3:n=t.sent,r=n.data.data,e.setState({comments:r});case 6:case"end":return t.stop()}}),t)}))),e.handlePageChange=function(t){e.setState({currentPage:t})},e.handleTableSort=function(t){e.setState({sortColumn:t})},e.handleNoteDelete=function(){var t=Object(m.a)(i.a.mark((function t(a){var n,r,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.filteredNotes,r=n.filter((function(e){return e._id!==a._id})),t.next=4,Ne("Are you sure?","warning");case 4:if(c=t.sent,!c.value){t.next=16;break}return e.setState({filteredNotes:r}),t.prev=8,t.next=11,We(a._id);case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(8),t.t0.response&&404===t.t0.response.status&&(p.b.error("This note has already been deleted."),e.setState({filteredNotes:n}));case 16:case"end":return t.stop()}}),t,null,[[8,13]])})));return function(e){return t.apply(this,arguments)}}(),e.handleCommentSubmit=function(){var t=Object(m.a)(i.a.mark((function t(a,n){var r,c,o,s,l,m;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.comment,c=n.resetForm,o=e.props.match.params.courseId,s=e.state.comments,t.prev=4,l=Oe(),m=[{_id:r,user:{varsityId:l.varsityId,photo:l.photo},comment:r}].concat(Object(ze.a)(s)),e.setState({comments:m}),t.next=10,lt(o,r,"notes");case 10:c({values:""}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(4),e.setState({comments:s}),p.b.error("Something went wrong. comment not posted");case 17:case"end":return t.stop()}}),t,null,[[4,13]])})));return function(e,a){return t.apply(this,arguments)}}(),e.handleCommentDelete=function(){var t=Object(m.a)(i.a.mark((function t(a){var n,r,c,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.match.params.courseId,r=e.state.comments,t.prev=2,t.next=5,Ne("Are you confirm?","warning");case 5:if(c=t.sent,!c.value){t.next=12;break}return o=r.filter((function(e){return e._id!==a._id})),e.setState({comments:o}),t.next=12,it(n,a._id);case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(2),e.setState({comments:r}),p.b.error("Comment already deleted");case 18:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({loading:!0}),e.next=4,this.populateNotes();case 4:return e.next=6,this.populateComments();case 6:this.setState({loading:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),p.b.error("Something went wrong.");case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.filteredNotes,a=e.pageSize,n=e.currentPage,c=e.sortColumn,o=e.comments,l=this.props.match.params,i=l.batchId,m=l.courseId,u=A.a.orderBy(t,[c.path],[c.order]),d=$e(u,a,n);return this.state.loading?r.a.createElement(E.SemipolarLoading,null):r.a.createElement("div",{className:"row justify-content-center h-100 w-100"},r.a.createElement("div",{className:"col-11 p-0 m-0 text-left"},r.a.createElement(ot,{notes:d,onSort:this.handleTableSort,onDelete:this.handleNoteDelete,sortColumn:c,courseId:m,batchId:i})),(Oe().batch===i||Oe().isAdmin)&&r.a.createElement("div",{className:"col-9 row justify-content-between align-items-center"},r.a.createElement("p",{className:"text-white"},"Total Notes: ",t.length),r.a.createElement(Ee,{color:"primary"},r.a.createElement(s.b,{to:"/aust-note-book/".concat(i,"/").concat(m,"/note/add-note"),className:"text-decoration-none text-white"},"Add Note"))),r.a.createElement("div",{className:"col-12 mt-2 d-flex justify-content-center"},r.a.createElement(Ke,{itemCounts:t.length,pageOnChange:this.handlePageChange,pageSize:a})),(Oe().batch===i||Oe().isAdmin)&&r.a.createElement("div",{className:"col-11 mt-3 p-5 text-left"},r.a.createElement("p",{className:"text-white"},"Total Comments: ",o.length),r.a.createElement(zt,{comments:o,courseId:m,path:"notes",handleCommentSubmit:this.handleCommentSubmit,handleCommentDelete:this.handleCommentDelete})))}}]),a}(n.Component)),ut=(a(466),function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={note:{_id:"",name:"",semester:"",url:""}},e.validateSchema=_e.b().shape({name:_e.d().min(3).required().label("First Name"),semester:_e.d().min(3).required().matches(/^(spring|fall)(-)(20)(\d\d)$/i,'Format have to "spring-xxxx" or "fall-xxxx"').label("Last Name"),url:_e.d().required().label("Url")}),e.mapToViewModel=function(e){return{_id:e._id,name:e.name,semester:e.semester,url:e.url}},e.handleSubmit=function(){var t=Object(m.a)(i.a.mark((function t(a,n){var r,c,o,s,l,m,u,d,p;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a._id,c=a.name,o=a.semester,s=a.url,l=n.setErrors,m=n.resetForm,t.prev=2,t.next=5,Ne("Are you confirm?","warning");case 5:if(u=t.sent,!u.value){t.next=13;break}return d=e.props.match.params.courseId,t.next=11,He(r,c,o,s,d);case 11:m({values:""}),e.props.history.goBack();case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),t.t0.response&&400===t.t0.response.status&&(p=t.t0.response.data,l({name:p}));case 18:case"end":return t.stop()}}),t,null,[[2,15]])})));return function(e,a){return t.apply(this,arguments)}}(),e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"add-note"!==(t=this.props.match.params.notePath)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,r=t,he.get("/notes"+"/".concat(r));case 6:a=e.sent,n=a.data,this.setState({note:this.mapToViewModel(n)}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),!e.t0.response||404!==e.t0.response.status&&400!==e.t0.response.status||this.props.history.replace("/aust-note-book/not-found");case 14:case"end":return e.stop()}var r}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Oe().batch===this.props.match.params.batchId||Oe().isAdmin?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row h-100 w-100 justify-content-center align-items-center p-0 m-0"},r.a.createElement("div",{className:"col-8 row  p-0 m-0 justify-content-center align-items-center"},r.a.createElement("div",{className:"noteContainer"},r.a.createElement("div",{className:"noteHeader"},r.a.createElement("h3",{className:"m-0 p-0"},"Add Note")),r.a.createElement("div",{className:"p-5"},r.a.createElement(Te,{initialValues:this.state.note,onSubmit:this.handleSubmit,validationSchema:this.validateSchema,enableReinitialize:!0},r.a.createElement("form",{noValidate:!0,autoComplete:"off",className:"mt-1"},r.a.createElement(Fe,{name:"name",label:"Note Name",color:"primary"}),r.a.createElement(Fe,{name:"semester",label:"Semester",color:"primary"}),r.a.createElement(Fe,{name:"url",label:"File Url",placeholder:"https://drive.google.com/.....",color:"primary"}),r.a.createElement(Be,{color:"primary",className:"mt-4 w-100",label:"Add Note"})))))))):r.a.createElement(d.a,{to:"/"})}}]),a}(n.Component));function dt(){return he.get("/questions")}function pt(e,t,a,n,r){return e?he.put("/questions"+"/".concat(e),{name:t,semester:a,url:n}):he.post("/questions",{name:t,semester:a,url:n,courseId:r})}function ht(e){return he.delete("/questions"+"/".concat(e))}var ft=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).columns=[{label:"Name",path:"name",content:function(t){return t.user._id===Oe()._id||Oe().isAdmin?r.a.createElement(s.b,{to:"/aust-note-book/".concat(e.props.batchId,"/").concat(e.props.courseId,"/question/").concat(t._id),className:"font-weight-bold"},t.name):r.a.createElement("span",{className:""},t.name)}},{label:"Semester",path:"semester"},{label:"Added By",path:"user.varsityId"},{label:"Date Upload",path:"datePublished"},{label:"File",key:"file",content:function(e){return r.a.createElement("a",{href:"".concat(e.url),target:"_blank",rel:"noopener noreferrer"},"Download")}}],e.deleteColumn={key:"delete",content:function(t){return(t.user._id===Oe()._id||Oe().isAdmin)&&r.a.createElement(j,{handleClick:function(){return e.props.onDelete(t)},className:"deleteButton"})}},e.columns.push(e.deleteColumn),e}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props,t=e.questions,a=e.onSort,n=e.sortColumn;return r.a.createElement(ee.a,{className:"container m-2"},r.a.createElement(ct,{onSort:a,data:t,sortColumn:n,columns:this.columns}))}}]),a}(n.Component),bt=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={allQuestions:[],filteredQuestions:[],comments:[],pageSize:5,currentPage:1,sortColumn:{},loading:Boolean},e.populateQuestions=Object(m.a)(i.a.mark((function t(){var a,n,r,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.match.params.courseId,t.next=3,dt();case 3:n=t.sent,r=(r=n.data.data).map((function(e){return Object(me.a)(Object(me.a)({},e),{},{datePublished:new Date(e.datePublished).toLocaleString()})})),c=r.filter((function(e){return e.course._id===a})),e.setState({allQuestions:r,filteredQuestions:c});case 8:case"end":return t.stop()}}),t)}))),e.populateComments=Object(m.a)(i.a.mark((function t(){var a,n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.match.params.courseId,t.next=3,st(a,"questions");case 3:n=t.sent,r=n.data.data,e.setState({comments:r});case 6:case"end":return t.stop()}}),t)}))),e.handlePageChange=function(t){e.setState({currentPage:t})},e.handleTableSort=function(t){e.setState({sortColumn:t})},e.handleQuestionDelete=function(){var t=Object(m.a)(i.a.mark((function t(a){var n,r,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.filteredQuestions,r=n.filter((function(e){return e._id!==a._id})),t.next=4,Ne("Are you sure?","warning");case 4:if(c=t.sent,!c.value){t.next=16;break}return e.setState({filteredQuestions:r}),t.prev=8,t.next=11,ht(a._id);case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(8),t.t0.response&&404===t.t0.response.status&&(p.b.error("This question has already been deleted."),e.setState({filteredQuestions:n}));case 16:case"end":return t.stop()}}),t,null,[[8,13]])})));return function(e){return t.apply(this,arguments)}}(),e.handleCommentSubmit=function(){var t=Object(m.a)(i.a.mark((function t(a,n){var r,c,o,s,l,m;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.comment,c=n.resetForm,o=e.props.match.params.courseId,s=e.state.comments,t.prev=4,l=Oe(),m=[{_id:r,user:{varsityId:l.varsityId,photo:l.photo},comment:r}].concat(Object(ze.a)(s)),e.setState({comments:m}),t.next=10,lt(o,r,"questions");case 10:c({values:""}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(4),e.setState({comments:s}),p.b.error("Something went wrong. comment not posted");case 17:case"end":return t.stop()}}),t,null,[[4,13]])})));return function(e,a){return t.apply(this,arguments)}}(),e.handleCommentDelete=function(){var t=Object(m.a)(i.a.mark((function t(a){var n,r,c,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.match.params.courseId,r=e.state.comments,t.prev=2,t.next=5,Ne("Are you confirm?","warning");case 5:if(c=t.sent,!c.value){t.next=12;break}return o=r.filter((function(e){return e._id!==a._id})),e.setState({comments:o}),t.next=12,it(n,a._id);case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(2),e.setState({comments:r}),p.b.error("Comment already deleted");case 18:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({loading:!0}),e.next=4,this.populateQuestions();case 4:return e.next=6,this.populateComments();case 6:this.setState({loading:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),p.b.error("Something went wrong.");case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.filteredQuestions,a=e.pageSize,n=e.currentPage,c=e.sortColumn,o=e.comments,l=this.props.match.params,i=l.batchId,m=l.courseId,u=A.a.orderBy(t,[c.path],[c.order]),d=$e(u,a,n);return this.state.loading?r.a.createElement(E.SemipolarLoading,null):r.a.createElement("div",{className:"row justify-content-center h-100 w-100"},r.a.createElement("div",{className:"col-12 p-0 m-0"},r.a.createElement(ft,{questions:d,onDelete:this.handleQuestionDelete,onSort:this.handleTableSort,sortColumn:c,courseId:m,batchId:i})),(Oe().batch===i||Oe().isAdmin)&&r.a.createElement("div",{className:"col-9 row justify-content-between align-items-center"},r.a.createElement("p",{className:"text-white"},"Total Questions: ",t.length),r.a.createElement(Ee,{color:"primary"},r.a.createElement(s.b,{to:"/aust-note-book/".concat(i,"/").concat(m,"/question/add-question"),className:"text-decoration-none text-white"},"Add Question"))),r.a.createElement("div",{className:"col-12 mt-2 d-flex justify-content-center"},r.a.createElement(Ke,{itemCounts:t.length,pageOnChange:this.handlePageChange,pageSize:a})),(Oe().batch===i||Oe().isAdmin)&&r.a.createElement("div",{className:"col-11 mt-3 p-5 text-left"},r.a.createElement("p",{className:"text-white"},"Total Comments: ",o.length),r.a.createElement(zt,{comments:o,courseId:m,path:"questions",handleCommentSubmit:this.handleCommentSubmit,handleCommentDelete:this.handleCommentDelete})))}}]),a}(n.Component),vt=(a(467),function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={question:{_id:"",name:"",semester:"",url:""}},e.validateSchema=_e.b().shape({name:_e.d().min(3).required().label("First Name"),semester:_e.d().min(3).required().matches(/^(spring|fall)(-)(20)(\d\d)$/i,'Format have to "spring-xxxx" or "fall-xxxx"').label("Last Name"),url:_e.d().required().label("Url")}),e.mapToViewModel=function(e){return{_id:e._id,name:e.name,semester:e.semester,url:e.url}},e.handleSubmit=function(){var t=Object(m.a)(i.a.mark((function t(a,n){var r,c,o,s,l,m,u,d,p;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a._id,c=a.name,o=a.semester,s=a.url,l=n.setErrors,m=n.resetForm,t.prev=2,t.next=5,Ne("Are you confirm?","warning");case 5:if(u=t.sent,!u.value){t.next=13;break}return d=e.props.match.params.courseId,t.next=11,pt(r,c,o,s,d);case 11:m({values:""}),e.props.history.goBack();case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),t.t0.response&&400===t.t0.response.status&&(p=t.t0.response.data,l({name:p}));case 18:case"end":return t.stop()}}),t,null,[[2,15]])})));return function(e,a){return t.apply(this,arguments)}}(),e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"add-question"!==(t=this.props.match.params.questionPath)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,r=t,he.get("/questions"+"/".concat(r));case 6:a=e.sent,n=a.data,this.setState({question:this.mapToViewModel(n)}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),!e.t0.response||404!==e.t0.response.status&&400!==e.t0.response.status||this.props.history.replace("/aust-note-book/not-found");case 14:case"end":return e.stop()}var r}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Oe().batch===this.props.match.params.batchId||Oe().isAdmin?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row h-100 w-100 justify-content-center align-items-center p-0 m-0"},r.a.createElement("div",{className:"col-8 row  p-0 m-0 justify-content-center align-items-center"},r.a.createElement("div",{className:"questionContainer"},r.a.createElement("div",{className:"questionHeader"},r.a.createElement("h3",{className:"m-0 p-0"},"Add Question")),r.a.createElement("div",{className:"p-5"},r.a.createElement(Te,{initialValues:this.state.question,onSubmit:this.handleSubmit,validationSchema:this.validateSchema,enableReinitialize:!0},r.a.createElement("form",{noValidate:!0,autoComplete:"off",className:"mt-1"},r.a.createElement(Fe,{name:"name",label:"Question Name",color:"primary"}),r.a.createElement(Fe,{name:"semester",label:"Semester",color:"primary"}),r.a.createElement(Fe,{name:"url",label:"File Url",placeholder:"https://drive.google.com/.....",color:"primary"}),r.a.createElement(Be,{color:"primary",className:"mt-4 w-100",label:"Add Question"})))))))):r.a.createElement(d.a,{to:"/"})}}]),a}(n.Component)),Et=function(){var e=Object(m.a)(i.a.mark((function e(t,a,n,r,c,o,s){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return",he.put("/crInfos"+"/".concat(t),{name:a,section:n,group:r,varsityId:c,phoneNumber:o,batchId:s}));case 2:return e.next=4,he.post("/crInfos",{name:a,section:n,group:r,varsityId:c,phoneNumber:o,batchId:s});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n,r,c,o,s){return e.apply(this,arguments)}}();function gt(e){return he.delete("/crInfos"+"/".concat(e))}var yt=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={},n.columns=[{label:"Name",path:"name",content:function(e){return"co-admin"===Oe().role&&Oe().batch===n.props.batchId||Oe().isAdmin?r.a.createElement(s.b,{to:"/aust-note-book/".concat(n.props.batchId,"/cr/").concat(e._id),className:"font-weight-bold"},e.name):r.a.createElement("span",{className:"font-weight-bold"},e.name)}},{label:"Section",path:"section"},{label:"Group",path:"group"},{label:"Varsity Id",path:"varsityId"},{label:"Phone Number",path:"phoneNumber"}],n.deleteColumn={key:"delete",content:function(e){return r.a.createElement(j,{handleClick:function(){return n.props.onDelete(e)},className:"deleteButton"})}},(Oe().isAdmin||"co-admin"===Oe().role&&Oe().batch===n.props.batchId)&&n.columns.push(n.deleteColumn),n}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props,t=e.crs,a=e.onSort,n=e.sortColumn;return r.a.createElement(ee.a,{className:"container m-2"},r.a.createElement(ct,{onSort:a,data:t,sortColumn:n,columns:this.columns}))}}]),a}(n.Component),Nt=(a(468),function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={allCrs:[],filteredCrs:[],pageSize:8,currentPage:1,sortColumn:{},loading:Boolean},e.handlePageChange=function(t){e.setState({currentPage:t})},e.handleTableSort=function(t){e.setState({sortColumn:t})},e.handleCrDelete=function(){var t=Object(m.a)(i.a.mark((function t(a){var n,r,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.filteredCrs,r=n.filter((function(e){return e._id!==a._id})),t.next=4,Ne("Are you sure?","warning");case 4:if(c=t.sent,!c.value){t.next=16;break}return e.setState({filteredCrs:r}),t.prev=8,t.next=11,gt(a._id);case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(8),t.t0.response&&404===t.t0.response.status&&(p.b.error("This cr has already been deleted."),e.setState({filteredCrs:n}));case 16:case"end":return t.stop()}}),t,null,[[8,13]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=this.props.match.params.batchId,e.next=4,he.get("/crInfos");case 4:a=e.sent,n=a.data.data,r=n.filter((function(e){return e.batch._id===t})),this.setState({allCrs:n,filteredCrs:r,loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.filteredCrs,a=e.pageSize,n=e.currentPage,c=e.sortColumn,o=this.props.match.params.batchId,l=A.a.orderBy(t,[c.path],[c.order]),i=$e(l,a,n);return this.state.loading?r.a.createElement(E.SemipolarLoading,null):r.a.createElement("div",{className:"row justify-content-center align-content-center h-100 w-100"},r.a.createElement("div",{className:"col-12 p-0 m-0"},r.a.createElement(yt,{crs:i,onDelete:this.handleCrDelete,onSort:this.handleTableSort,sortColumn:c,batchId:o})),(Oe().batch===o||Oe().isAdmin)&&r.a.createElement("div",{className:"col-9 row justify-content-between align-items-center"},r.a.createElement("p",{className:"text-white"},"Total Cr's information: ",t.length),r.a.createElement(Ee,{color:"primary"},r.a.createElement(s.b,{to:"/aust-note-book/".concat(o,"/cr/add-cr"),className:"text-decoration-none text-white"},"Add Cr"))),r.a.createElement("div",{className:"col-12 mt-2 d-flex justify-content-center"},r.a.createElement(Ke,{itemCounts:t.length,pageOnChange:this.handlePageChange,pageSize:a})))}}]),a}(n.Component)),wt=a(489),xt=a(486),kt=a(536),Ct=a(485),St=function(e){var t,a,n=e.name,c=e.label,o=e.selectedItem,s=e.items,l=Object(x.a)(e,["name","label","selectedItem","items"]),i=Object(Ae.b)(),m=i.handleChange,u=i.errors,d=i.setFieldTouched,p=i.touched,h=i.values;return r.a.createElement(De.a,{fullWidth:!0},r.a.createElement(wt.a,{id:"demo-simple-select-label"},c),r.a.createElement(xt.a,Object.assign({labelId:"demo-simple-select-label",onChange:m(n),value:h[n],onBlur:function(){return d(n)},error:(t=u[n],a=p[n],!(!a||!t))},l),o&&s.map((function(e){return r.a.createElement(kt.a,{key:e._id||e,value:e._id||e,onClick:function(){return o(e._id||e)}},e.name||e)})),!o&&s.map((function(e){return r.a.createElement(kt.a,{key:e._id||e,value:e._id||e},e.name||e)}))),r.a.createElement(Ct.a,null,u[n]))},jt=(a(469),function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={allGroup:[{A:["A-1","A-2"]},{B:["B-1","B-2"]},{C:["C-1","C-2"]},{D:["D-1","D-2"]}],cr:{_id:"",name:"",section:"",group:"",varsityId:"",phoneNumber:""},selectedGroup:[]},e.validateSchema=_e.b().shape({name:_e.d().min(3).required().label("Name"),section:_e.d().required().label("Section"),group:_e.d().required().label("Group"),varsityId:_e.d().min(9).max(9).required().matches(/^[0-9]+$/,"Please give your valid varsity id").label("Varsity Id"),phoneNumber:_e.d().min(11).max(12).required().label("Phone No")}),e.mapToViewModel=function(e){return{_id:e._id,name:e.name,section:e.section,group:e.group,varsityId:e.varsityId,phoneNumber:e.phoneNumber}},e.handleSubmit=function(){var t=Object(m.a)(i.a.mark((function t(a,n){var r,c,o,s,l,m,u,d,p,h,f;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a._id,c=a.name,o=a.section,s=a.group,l=a.varsityId,m=a.phoneNumber,u=n.setErrors,d=n.resetForm,t.prev=2,t.next=5,Ne("Are you confirm?","warning");case 5:if(p=t.sent,!p.value){t.next=13;break}return h=e.props.match.params.batchId,t.next=11,Et(r,c.toUpperCase(),o,s,l,m,h);case 11:d({values:""}),e.props.history.goBack();case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),t.t0.response&&400===t.t0.response.status&&(f=t.t0.response.data,u({name:f}));case 18:case"end":return t.stop()}}),t,null,[[2,15]])})));return function(e,a){return t.apply(this,arguments)}}(),e.handleSection=function(t){var a=e.state.allGroup.find((function(e){return e[t]}));e.setState({selectedGroup:a[t]})},e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"add-cr"!==(t=this.props.match.params.crPath)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,c=t,he.get("/crInfos"+"/".concat(c));case 6:a=e.sent,n=a.data,r=this.state.allGroup.find((function(e){return e[n.section]})),this.setState({cr:this.mapToViewModel(n),selectedGroup:r[n.section]}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),!e.t0.response||404!==e.t0.response.status&&400!==e.t0.response.status||this.props.history.replace("/aust-note-book/not-found");case 15:case"end":return e.stop()}var c}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Oe().batch===this.props.match.params.batchId||Oe().isAdmin?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row h-100 w-100 justify-content-center align-items-center p-0 m-0"},r.a.createElement("div",{className:"col-8 row  p-0 m-0 justify-content-center align-items-center"},r.a.createElement("div",{className:"courseContainer"},r.a.createElement("div",{className:"courseHeader"},r.a.createElement("h3",{className:"m-0 p-0"},"Add Cr")),r.a.createElement("div",{className:"p-5"},r.a.createElement(Te,{initialValues:this.state.cr,onSubmit:this.handleSubmit,validationSchema:this.validateSchema,enableReinitialize:!0},r.a.createElement("form",{noValidate:!0,autoComplete:"off",className:"mt-1"},r.a.createElement(Fe,{name:"name",label:"Name",className:"text-capitalize",color:"primary"}),r.a.createElement("div",{className:"d-flex"},r.a.createElement(St,{name:"section",label:"Section",className:"flex-1 mr-3",items:["A","B","C","D"],selectedItem:this.handleSection}),r.a.createElement(St,{name:"group",className:"flex-1",label:"Group",items:this.state.selectedGroup})),r.a.createElement(Fe,{name:"varsityId",label:"Varsity Id",color:"primary",disabled:this.state.cr.varsityId}),r.a.createElement(Fe,{name:"phoneNumber",label:"Phone Number",color:"primary"}),r.a.createElement(Be,{color:"primary",className:"mt-4 w-100",label:"Add Cr"})))))))):r.a.createElement(d.a,{to:"/"})}}]),a}(n.Component)),Ot=function(){var e=Object(m.a)(i.a.mark((function e(t,a,n,r,c,o,s){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return",he.put("/teacherInfos"+"/".concat(t),{name:a,courseTitle:n,courseNo:r,email:c,phoneNumber:o,batchId:s}));case 2:return e.next=4,he.post("/teacherInfos",{name:a,courseTitle:n,courseNo:r,email:c,phoneNumber:o,batchId:s});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n,r,c,o,s){return e.apply(this,arguments)}}();function It(e){return he.delete("/teacherInfos"+"/".concat(e))}var _t=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={},n.columns=[{label:"Name",path:"name",content:function(e){return"co-admin"===Oe().role&&Oe().batch===n.props.batchId||Oe().isAdmin?r.a.createElement(s.b,{to:"/aust-note-book/".concat(n.props.batchId,"/teacher/").concat(e._id),className:"font-weight-bold"},e.name):r.a.createElement("span",{className:"font-weight-bold"},e.name)}},{label:"Course Title",path:"courseTitle"},{label:"Course No",path:"courseNo"},{label:"Email",path:"email"},{label:"Phone Number",path:"phoneNumber"}],n.deleteColumn={key:"delete",content:function(e){return r.a.createElement(j,{handleClick:function(){return n.props.onDelete(e)},className:"deleteButton"})}},(Oe().isAdmin||"co-admin"===Oe().role&&Oe().batch===n.props.batchId)&&n.columns.push(n.deleteColumn),n}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props,t=e.teachers,a=e.onSort,n=e.sortColumn;return r.a.createElement(ee.a,{className:"container m-2"},r.a.createElement(ct,{onSort:a,data:t,sortColumn:n,columns:this.columns}))}}]),a}(n.Component),At=(a(470),function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={allTeachers:[],filteredTeachers:[],pageSize:8,currentPage:1,sortColumn:{},loading:Boolean},e.handlePageChange=function(t){e.setState({currentPage:t})},e.handleTableSort=function(t){e.setState({sortColumn:t})},e.handleTeacherDelete=function(){var t=Object(m.a)(i.a.mark((function t(a){var n,r,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.filteredTeachers,r=n.filter((function(e){return e._id!==a._id})),t.next=4,Ne("Are you sure?","warning");case 4:if(c=t.sent,!c.value){t.next=16;break}return e.setState({filteredTeachers:r}),t.prev=8,t.next=11,It(a._id);case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(8),t.t0.response&&404===t.t0.response.status&&(p.b.error("This teacher has already been deleted."),e.setState({filteredTeachers:n}));case 16:case"end":return t.stop()}}),t,null,[[8,13]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=this.props.match.params.batchId,e.next=4,he.get("/teacherInfos");case 4:a=e.sent,n=a.data.data,r=n.filter((function(e){return e.batch._id===t})),this.setState({allTeachers:n,filteredTeachers:r,loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.filteredTeachers,a=e.pageSize,n=e.currentPage,c=e.sortColumn,o=this.props.match.params.batchId,l=A.a.orderBy(t,[c.path],[c.order]),i=$e(l,a,n);return this.state.loading?r.a.createElement(E.SemipolarLoading,null):r.a.createElement("div",{className:"row justify-content-center align-content-center h-100 w-100"},r.a.createElement("div",{className:"col-12 p-0 m-0"},r.a.createElement(_t,{teachers:i,onDelete:this.handleTeacherDelete,onSort:this.handleTableSort,sortColumn:c,batchId:o})),(Oe().batch===o||Oe().isAdmin)&&r.a.createElement("div",{className:"col-9 row justify-content-between align-items-center"},r.a.createElement("p",{className:"text-white"},"Total Teacher's information: ",t.length),r.a.createElement(Ee,{color:"primary"},r.a.createElement(s.b,{to:"/aust-note-book/".concat(o,"/teacher/add-teacher"),className:"text-decoration-none text-white"},"Add Teacher"))),r.a.createElement("div",{className:"col-12 mt-2 d-flex justify-content-center"},r.a.createElement(Ke,{itemCounts:t.length,pageOnChange:this.handlePageChange,pageSize:a})))}}]),a}(n.Component)),Tt=(a(471),function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={teacher:{_id:"",name:"",courseTitle:"",courseNo:"",email:"",phoneNumber:""}},e.validateSchema=_e.b().shape({name:_e.d().min(3).required().label("Name"),courseTitle:_e.d().required().label("Section"),courseNo:_e.d().required().label("Group"),email:_e.d().email().required().label("Email"),phoneNumber:_e.d().min(11).max(12).required().label("Phone No")}),e.mapToViewModel=function(e){return{_id:e._id,name:e.name,courseTitle:e.courseTitle,courseNo:e.courseNo,email:e.email,phoneNumber:e.phoneNumber}},e.handleSubmit=function(){var t=Object(m.a)(i.a.mark((function t(a,n){var r,c,o,s,l,m,u,d,p,h,f;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a._id,c=a.name,o=a.courseTitle,s=a.courseNo,l=a.email,m=a.phoneNumber,u=n.setErrors,d=n.resetForm,t.prev=2,t.next=5,Ne("Are you confirm?","warning");case 5:if(p=t.sent,!p.value){t.next=13;break}return h=e.props.match.params.batchId,t.next=11,Ot(r,c.toUpperCase(),o.toUpperCase(),s.toUpperCase(),l,m,h);case 11:d({values:""}),e.props.history.goBack();case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),t.t0.response&&400===t.t0.response.status&&(f=t.t0.response.data,u({name:f}));case 18:case"end":return t.stop()}}),t,null,[[2,15]])})));return function(e,a){return t.apply(this,arguments)}}(),e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"add-teacher"!==(t=this.props.match.params.teacherPath)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,r=t,he.get("/teacherInfos"+"/".concat(r));case 6:a=e.sent,n=a.data,this.setState({teacher:this.mapToViewModel(n)}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),!e.t0.response||404!==e.t0.response.status&&400!==e.t0.response.status||this.props.history.replace("/aust-note-book/not-found");case 14:case"end":return e.stop()}var r}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Oe().batch===this.props.match.params.batchId||Oe().isAdmin?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row h-100 w-100 justify-content-center align-items-center p-0 m-0"},r.a.createElement("div",{className:"col-8 row  p-0 m-0 justify-content-center align-items-center"},r.a.createElement("div",{className:"courseContainer"},r.a.createElement("div",{className:"courseHeader"},r.a.createElement("h3",{className:"m-0 p-0"},"Add Teacher")),r.a.createElement("div",{className:"p-5"},r.a.createElement(Te,{initialValues:this.state.teacher,onSubmit:this.handleSubmit,validationSchema:this.validateSchema,enableReinitialize:!0},r.a.createElement("form",{noValidate:!0,autoComplete:"off",className:"mt-1"},r.a.createElement(Fe,{name:"name",label:"Name",className:"text-capitalize",color:"primary"}),r.a.createElement("div",{className:"d-flex"},r.a.createElement(Fe,{name:"courseTitle",label:"Course Title",className:"flex-1 mr-3",color:"primary"}),r.a.createElement(Fe,{name:"courseNo",label:"Course No",className:"flex-1",color:"primary"})),r.a.createElement(Fe,{name:"email",label:"Email",color:"primary"}),r.a.createElement(Fe,{name:"phoneNumber",label:"Phone Number",color:"primary"}),r.a.createElement(Be,{color:"primary",className:"mt-4 w-100",label:"Add Teacher"})))))))):r.a.createElement(d.a,{to:"/"})}}]),a}(n.Component)),Pt=function(e){var t=e.user;return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark justify-content-between fixed-top"},r.a.createElement("div",null,r.a.createElement(s.c,{to:"/",className:"nav-link text-white font-weight-bold"},r.a.createElement("h5",null,"AustNoteBook"))),r.a.createElement("div",null,r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse text-white bg-dark p-3",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.c,{to:"/",className:"nav-link"},"Home")),t&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement("li",{className:"nav-item d-flex ml-3 align-items-center"},r.a.createElement(ne.a,{alt:"Remy Sharp",src:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://austnotebook-api.herokuapp.com/api",REACT_APP_NAME:"AustNoteBook",REACT_APP_VERSION:"1"}).PROFILE_PICTURE_URL+"/"+t.photo}),r.a.createElement(s.c,{to:"/profile",className:"nav-link"},t.varsityId),t.isAdmin&&r.a.createElement("span",{className:"text-success font-weight-bold"},"Admin"),"co-admin"===t.role&&r.a.createElement("span",{className:"text-primary font-weight-bold"},"Co-admin")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.c,{to:"/logout",className:"nav-link"},"Logout"))),!t&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.c,{to:"/login",className:"nav-link"},"Login")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.c,{to:"/registration",className:"nav-link"},"Register"))," ")))))},Dt=(a(472),function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).validateSchema=_e.b().shape({email:_e.d().email().required().label("Email"),password:_e.d().required().min(4).label("Password")}),e.handleSubmit=function(){var t=Object(m.a)(i.a.mark((function t(a,n){var r,c,o,s,l,m;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.email,c=a.password,o=n.setErrors,s=n.resetForm,t.prev=2,t.next=5,ke(r,c);case 5:p.b.success("Signed in successfully."),s({values:""}),l=e.props.location.state,window.location=l?l.from.pathname:"/",t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),t.t0.response&&400===t.t0.response.status&&(m=t.t0.response.data,o({email:m}));case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e,a){return t.apply(this,arguments)}}(),e}return Object(f.a)(a,[{key:"render",value:function(){return Oe()?r.a.createElement(d.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Pt,null),r.a.createElement("div",{className:"row h-100 w-100 justify-content-center align-items-center p-0 m-0"},r.a.createElement("div",{className:"col-8 row  p-0 m-0 justify-content-center align-items-center"},r.a.createElement("div",{className:"loginContainer"},r.a.createElement("div",{className:"loginHeader"},r.a.createElement("h1",null,"Login")),r.a.createElement("div",{className:"p-5"},r.a.createElement(Te,{initialValues:{email:"",password:""},onSubmit:this.handleSubmit,validationSchema:this.validateSchema},r.a.createElement("form",{noValidate:!0,autoComplete:"off",className:"mt-3"},r.a.createElement(Fe,{name:"email",label:"Email",color:"primary"}),r.a.createElement(Fe,{name:"password",label:"Password",className:"my-2",color:"primary",type:"password"}),r.a.createElement(Be,{color:"primary",className:"mt-5 w-100",label:"Login"}))))))))}}]),a}(n.Component)),qt=function(){var e=Object(m.a)(i.a.mark((function e(t){var a,n,r,c,o,s,l,m,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.firstName,n=t.lastName,r=t.varsityId,c=t.departmentId,o=t.batchId,s=t.email,l=t.password,e.next=3,he.post("/users",{firstName:a,lastName:n,varsityId:r,departmentId:c,batchId:o,email:s,password:l});case 3:m=e.sent,u=m.headers,localStorage.setItem("token",u["x-auth-token"]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ft=function(e){var t=new FormData;return t.append("file",e),he.put("/users/me/photo",t)},Bt=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).validateSchema=_e.b().shape({file:_e.a().required("A image is required.")}),e.handleSubmit=function(){var e=Object(m.a)(i.a.mark((function e(t,a){var n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file,r=a.setErrors,e.prev=2,e.next=5,Ft(n);case 5:p.b.success("Image uploaded successfully."),window.location.reload(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),e.t0.response&&400===e.t0.response.status&&(c=e.t0.response.data,r({file:c}));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}(),e}return Object(f.a)(a,[{key:"render",value:function(){if(!Oe())return r.a.createElement(d.a,{to:"/login"});var e=this.props.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row h-100 w-100 justify-content-center align-items-center p-0 m-0"},r.a.createElement("div",{className:"col-8 row  p-0 m-0 justify-content-center align-items-center"},r.a.createElement("div",{className:"registrationContainer"},r.a.createElement("div",null,r.a.createElement("img",{src:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://austnotebook-api.herokuapp.com/api",REACT_APP_NAME:"AustNoteBook",REACT_APP_VERSION:"1"}).PROFILE_PICTURE_URL+"/"+A.a.get(e,"photo"),className:"rounded mx-auto d-block rounded-circle w-25 h-25",alt:"..."}),r.a.createElement("label",{htmlFor:"icon-button-file"},r.a.createElement(Ue,{className:"",htmlFor:"icon-button-file"}))),r.a.createElement("div",{className:"px-5 pb-5"},r.a.createElement(Te,{initialValues:{file:{}},onSubmit:this.handleSubmit,validationSchema:this.validateSchema},r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement(Ve,{name:"file",className:"d-none",id:"icon-button-file"}),r.a.createElement(Be,{variant:"outlined",size:"small",color:"primary",className:"",label:"Upload"}))),r.a.createElement("div",{className:"d-flex mt-2"},r.a.createElement(Fe,{value:e.firstName,name:"fistName",color:"primary",className:"flex-1 mr-3",disabled:!0}),r.a.createElement(Fe,{value:e.lastName,name:"lastName",color:"primary",className:"flex-1",disabled:!0})),r.a.createElement(Fe,{value:e.varsityId,name:"varsityId",color:"primary",className:"mt-2",disabled:!0}),r.a.createElement(Fe,{value:e.email,name:"email",color:"primary",className:"mt-2",disabled:!0}),r.a.createElement("div",{className:"d-flex mt-2"},r.a.createElement(Fe,{value:A.a.get(e,"department.name"),name:"department",color:"primary",className:"flex-1 mr-3",disabled:!0}),r.a.createElement(Fe,{value:A.a.get(e,"batch.name"),name:"batch",color:"primary",className:"flex-1",disabled:!0}))))))))}}]),a}(n.Component),Vt=function(){return he.get("/departments")},Rt=function(e){return he.get("/departments"+"/".concat(e,"/batches"))},Lt=(a(473),function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={departments:[],batches:[]},e.handleDepartmentSelection=function(){var t=Object(m.a)(i.a.mark((function t(a){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Rt(a);case 2:n=t.sent,r=n.data.data,e.setState({batches:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.validateSchema=_e.b().shape({firstName:_e.d().min(3).required().label("First Name"),lastName:_e.d().min(3).required().label("Last Name"),varsityId:_e.d().min(9).max(9).required().matches(/^[0-9]+$/,"Please give your valid varsity id").label("Varsity Id"),departmentId:_e.d().required().label("Department"),batchId:_e.d().required().label("Batch"),email:_e.d().email().required().label("Email"),password:_e.d().required().min(4).label("Password"),confirmPassword:_e.d().oneOf([_e.c("password"),null],"Password must match").required("Password confirm is required.")}),e.handleSubmit=function(){var e=Object(m.a)(i.a.mark((function e(t,a){var n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.setErrors,r=a.resetForm,e.prev=1,e.next=4,qt(t);case 4:r({values:""}),window.location="/",e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0.response&&400===e.t0.response.status&&(c=e.t0.response.data,n({varsityId:c}));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}(),e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vt();case 2:t=e.sent,a=t.data.data,this.setState({departments:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Oe()?r.a.createElement(d.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Pt,null),r.a.createElement("div",{className:"row h-100 w-100 justify-content-center align-items-center p-0 m-0"},r.a.createElement("div",{className:"col-8 row  p-0 m-0 justify-content-center align-items-center"},r.a.createElement("div",{className:"registrationContainer"},r.a.createElement("div",{className:"registrationHeader"},r.a.createElement("h3",{className:"m-0 p-0"},"Registration")),r.a.createElement("div",{className:"p-5"},r.a.createElement(Te,{initialValues:{firstName:"",lastName:"",varsityId:"",batchId:"",departmentId:"",email:"",password:"",confirmPassword:""},onSubmit:this.handleSubmit,validationSchema:this.validateSchema},r.a.createElement("form",{noValidate:!0,autoComplete:"off",className:"mt-1"},r.a.createElement("div",{className:"d-flex"},r.a.createElement(Fe,{name:"firstName",label:"First Name",color:"primary",className:"flex-1 mr-3"}),r.a.createElement(Fe,{name:"lastName",label:"Last Name",color:"primary",className:"flex-1"})),r.a.createElement("div",{className:"d-flex"},r.a.createElement(St,{name:"departmentId",label:"Department",className:"flex-1 mr-3",items:this.state.departments,selectedItem:this.handleDepartmentSelection}),r.a.createElement(St,{name:"batchId",className:"flex-1",label:"Batch",items:this.state.batches})),r.a.createElement(Fe,{name:"varsityId",label:"Varsity Id",color:"primary"}),r.a.createElement(Fe,{name:"email",label:"Email",color:"primary"}),r.a.createElement(Fe,{name:"password",label:"Password",color:"primary",type:"password"}),r.a.createElement(Fe,{name:"confirmPassword",label:"Confirm Password",color:"primary",type:"password"}),r.a.createElement(Be,{color:"primary",className:"mt-4 w-100",label:"Register"}))))))))}}]),a}(n.Component)),Ut=function(e){var t=e.comments,a=e.deleteButton,n=e.handleDelete;return r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement("div",{className:"comment",key:e._id},r.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement(ne.a,{alt:"Remy Sharp",src:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://austnotebook-api.herokuapp.com/api",REACT_APP_NAME:"AustNoteBook",REACT_APP_VERSION:"1"}).PROFILE_PICTURE_URL+"/"+A.a.get(e,"user.photo")}),r.a.createElement("p",{className:"text-muted"},A.a.get(e,"user.varsityId"))),r.a.createElement("div",null,a(e)&&r.a.createElement(j,{className:"deleteButton",handleClick:function(){return n(e)}}))),r.a.createElement("div",{className:"d-flex bg-white message"},r.a.createElement("p",{className:"text-justify"},e.comment)))})))},Mt=(a(474),function(e){var t=e.handleCommentSubmit,a=_e.b().shape({comment:_e.d().required().label("Comment")});return r.a.createElement("div",{className:"p-5 bg-white",style:{borderRadius:"5px"}},r.a.createElement(Te,{initialValues:{comment:""},onSubmit:t,validationSchema:a},r.a.createElement("form",{noValidate:!0,autoComplete:"off",className:"d-flex mt-3"},r.a.createElement(Fe,{name:"comment",label:"Comment",multiline:!0,rows:3,placeholder:"Give a comment...",color:"primary"}),r.a.createElement(Be,{color:"primary",className:" align-self-end ml-2",label:"comment"}))))}),zt=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={comments:[],pageSize:4,currentPage:1},e.handlePageChange=function(t){e.setState({currentPage:t})},e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.comments;this.setState({comments:e})}},{key:"componentDidUpdate",value:function(e){if(e!==this.props){var t=this.props.comments;this.setState({comments:t})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.comments,n=t.pageSize,c=t.currentPage,o=$e(a,n,c);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row h-100 w-100"},r.a.createElement("div",{className:"col-12 p-0 m-0"},r.a.createElement(Ut,{comments:o,deleteButton:function(e){return e.user._id===Oe()._id||Oe().isAdmin},handleDelete:function(t){return e.props.handleCommentDelete(t)}})),r.a.createElement("div",{className:"col-12 mt-2 d-flex justify-content-center"},r.a.createElement(Ke,{itemCounts:a.length,pageOnChange:this.handlePageChange,pageSize:n})),r.a.createElement("div",{className:"col-12 m-0 p-0 mt-5"},r.a.createElement(Mt,{handleCommentSubmit:this.props.handleCommentSubmit}))))}}]),a}(n.Component),Qt=function(e){e.path;var t=e.component,a=e.render,n=Object(x.a)(e,["path","component","render"]);return r.a.createElement(d.b,Object.assign({},n,{render:function(e){return Oe()?t?r.a.createElement(t,e):a(e):r.a.createElement(d.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},Ht=function(){return r.a.createElement("h1",null,"Not Found")},Wt=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).abortController=new AbortController,e.state={departments:[],batches:[]},e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark((function e(){var t,a,n,r,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,Vt();case 3:return t=e.sent,a=t.data,e.next=7,he.get("/batches");case 7:n=e.sent,r=n.data,c=a.data,o=r.data,this.setState({departments:c,batches:o,loading:!1});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.loading?r.a.createElement(E.SemipolarLoading,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"myContainer"},r.a.createElement("div",{className:"row w-100 h-100 p-0 m-0"},r.a.createElement("div",{className:"col-lg-2 col-md-2 col-2 p-0 m-0 leftContainer"},r.a.createElement("div",{className:"row h-100 w-100 align-content-center justify-content-center p-0 m-0"},r.a.createElement("div",{className:"w-100 h-75 p-2"},r.a.createElement(I,{departments:this.state.departments})))),r.a.createElement("div",{className:"col-lg-10 col-md-10 col-10 m-0 p-0 rightContainer mt-5"},r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/aust-note-book/departments",component:X}),r.a.createElement(d.b,{path:"/aust-note-book/:departmentId/batches",render:function(t){return r.a.createElement(ie,Object.assign({batches:e.state.batches},t))}}),r.a.createElement(d.b,{path:"/aust-note-book/:batchId/features",render:function(t){return r.a.createElement(ue,Object.assign({batches:e.state.batches},t))}}),r.a.createElement(Qt,{path:"/aust-note-book/:batchId/courses/:path",render:function(e){return r.a.createElement(Ie,e)}}),r.a.createElement(Qt,{path:"/aust-note-book/:batchId/:courseId/notes",render:function(e){return r.a.createElement(mt,e)}}),r.a.createElement(Qt,{path:"/aust-note-book/:batchId/:courseId/questions",render:function(e){return r.a.createElement(bt,e)}}),r.a.createElement(Qt,{path:"/aust-note-book/:batchId/teacher_infos",render:function(e){return r.a.createElement(At,e)}}),r.a.createElement(Qt,{path:"/aust-note-book/:batchId/cr_infos",render:function(e){return r.a.createElement(Nt,e)}}),r.a.createElement(Qt,{path:"/aust-note-book/:batchId/add-course",render:function(e){return r.a.createElement(Me,e)}}),r.a.createElement(Qt,{path:"/aust-note-book/:batchId/teacher/:teacherPath",render:function(e){return r.a.createElement(Tt,e)}}),r.a.createElement(Qt,{path:"/aust-note-book/:batchId/cr/:crPath",render:function(e){return r.a.createElement(jt,e)}}),r.a.createElement(Qt,{path:"/aust-note-book/:batchId/:courseId/note/:notePath",render:function(e){return r.a.createElement(ut,e)}}),r.a.createElement(Qt,{path:"/aust-note-book/:batchId/:courseId/question/:questionPath",render:function(e){return r.a.createElement(vt,e)}}),r.a.createElement(d.b,{path:"/aust-note-book/not-found",component:Ht}),r.a.createElement(d.a,{from:"/aust-note-book",exact:!0,to:"/aust-note-book/departments"}),r.a.createElement(d.a,{to:"/aust-note-book/not-found"}))))))}}]),a}(n.Component),Gt=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se();case 2:window.location="/";case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return null}}]),a}(n.Component);a(475),a(476),a(477),a(478);var Kt=function(){var e=Object(n.useState)({}),t=Object(u.a)(e,2),a=t[0],c=t[1],o=function(){var e=Object(m.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.get("/users/me");case 3:t=e.sent,a=t.data,c(a),p.b.info("".concat(a.firstName,", welcome to AustNoteBook.")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),c("");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){o()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null),r.a.createElement(Pt,{user:a}),r.a.createElement("main",{className:"myContainer"},r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/aust-note-book",component:Wt}),r.a.createElement(d.b,{path:"/login",component:Dt}),r.a.createElement(d.b,{path:"/logout",component:Gt}),r.a.createElement(d.b,{path:"/registration",component:Lt}),r.a.createElement(d.b,{path:"/not-found",component:Ht}),r.a.createElement(Qt,{path:"/profile",render:function(e){return r.a.createElement(Bt,Object.assign({},e,{user:a}))}}),r.a.createElement(d.a,{from:"/",exact:!0,to:"/aust-note-book"}),r.a.createElement(d.a,{to:"/not-found"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,null,r.a.createElement(Kt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[280,1,2]]]);
//# sourceMappingURL=main.c74449ae.chunk.js.map